<button *ngIf="!isLoginPage()" class="sidebar-toggle" (click)="toggleSidebar()">
  {{ isSidebarCollapsed ? 'Workspace Menü öffnen' : 'Workspace Menü schließen' }}
</button>

<div class="layout"
     [class.sidebar-collapsed]="isSidebarCollapsed"
     [class.thread-open]="isThreadPanelOpen"
     [class.thread-closed]="!isThreadPanelOpen"
     [class.message-composer-open]="isComposingNewMessage">

  <aside class="sidebar">
    <app-sidebar *ngIf="!isSidebarCollapsed" (composeNewMessage)="startNewMessage()"></app-sidebar>
  </aside>

  <main class="main">
    <ng-container *ngIf="!isComposingNewMessage; else composeMode">
      <app-chat-window [threadToggle]="openThreadPanel.bind(this)"></app-chat-window>
    </ng-container>

    <ng-template #composeMode>
      <app-new-message (cancel)="isComposingNewMessage = false"></app-new-message>
    </ng-template>
  </main>

  <section class="thread" *ngIf="isThreadPanelOpen">
    <app-thread-panel (closePanel)="closeThreadPanel()"></app-thread-panel>
  </section>
</div>

